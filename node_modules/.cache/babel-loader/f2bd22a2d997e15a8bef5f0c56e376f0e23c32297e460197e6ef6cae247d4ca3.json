{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport { getProducts } from '../services/api';\nexport const useProducts = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [totalCount, setTotalCount] = useState(0);\n  const [totalPages, setTotalPages] = useState(0);\n  const [filters, setFilters] = useState({\n    page: 1,\n    limit: 12,\n    tagSearch: '',\n    price: '',\n    subscription: undefined\n  });\n  const fetchProducts = useCallback(async () => {\n    try {\n      setLoading(true);\n      const data = await getProducts(filters);\n      setProducts(data.products);\n      setTotalCount(data.totalCount);\n      setTotalPages(data.totalPages);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [filters]);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      void fetchProducts();\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [fetchProducts]);\n  const updateFilters = useCallback(newFilters => {\n    setFilters(prevFilters => ({\n      ...prevFilters,\n      ...newFilters,\n      page: newFilters.page ? newFilters.page : 1\n    }));\n  }, []);\n  return {\n    products,\n    loading,\n    error,\n    totalCount,\n    totalPages,\n    filters,\n    updateFilters\n  };\n};\n_s(useProducts, \"aGbPBs+wgxLCM8a9sxzyRwLFrc0=\");","map":{"version":3,"names":["useState","useEffect","useCallback","getProducts","useProducts","_s","products","setProducts","loading","setLoading","error","setError","totalCount","setTotalCount","totalPages","setTotalPages","filters","setFilters","page","limit","tagSearch","price","subscription","undefined","fetchProducts","data","err","message","timer","setTimeout","clearTimeout","updateFilters","newFilters","prevFilters"],"sources":["/Users/svatoslavkondratcuk/Desktop/petlab-project/src/hooks/useProducts.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport { getProducts } from '../services/api';\n\nexport const useProducts = () => {\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [totalCount, setTotalCount] = useState(0);\n    const [totalPages, setTotalPages] = useState(0);\n\n    const [filters, setFilters] = useState({\n        page: 1,\n        limit: 12,\n        tagSearch: '',\n        price: '',\n        subscription: undefined\n    });\n\n    const fetchProducts = useCallback(async () => {\n        try {\n            setLoading(true);\n            const data = await getProducts(filters);\n            setProducts(data.products);\n            setTotalCount(data.totalCount);\n            setTotalPages(data.totalPages);\n        } catch (err) {\n            setError(err.message);\n        } finally {\n            setLoading(false);\n        }\n    }, [filters]);\n\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            void fetchProducts();\n        }, 300);\n\n        return () => clearTimeout(timer);\n    }, [fetchProducts]);\n\n    const updateFilters = useCallback((newFilters) => {\n        setFilters(prevFilters => ({\n            ...prevFilters,\n            ...newFilters,\n            page: newFilters.page ? newFilters.page : 1\n        }));\n    }, []);\n\n    return {\n        products,\n        loading,\n        error,\n        totalCount,\n        totalPages,\n        filters,\n        updateFilters\n    };\n};"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,SAASC,WAAW,QAAQ,iBAAiB;AAE7C,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACc,UAAU,EAAEC,aAAa,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC;EAE/C,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC;IACnCkB,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE,EAAE;IACTC,SAAS,EAAE,EAAE;IACbC,KAAK,EAAE,EAAE;IACTC,YAAY,EAAEC;EAClB,CAAC,CAAC;EAEF,MAAMC,aAAa,GAAGtB,WAAW,CAAC,YAAY;IAC1C,IAAI;MACAO,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMgB,IAAI,GAAG,MAAMtB,WAAW,CAACa,OAAO,CAAC;MACvCT,WAAW,CAACkB,IAAI,CAACnB,QAAQ,CAAC;MAC1BO,aAAa,CAACY,IAAI,CAACb,UAAU,CAAC;MAC9BG,aAAa,CAACU,IAAI,CAACX,UAAU,CAAC;IAClC,CAAC,CAAC,OAAOY,GAAG,EAAE;MACVf,QAAQ,CAACe,GAAG,CAACC,OAAO,CAAC;IACzB,CAAC,SAAS;MACNlB,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC,EAAE,CAACO,OAAO,CAAC,CAAC;EAEbf,SAAS,CAAC,MAAM;IACZ,MAAM2B,KAAK,GAAGC,UAAU,CAAC,MAAM;MAC3B,KAAKL,aAAa,CAAC,CAAC;IACxB,CAAC,EAAE,GAAG,CAAC;IAEP,OAAO,MAAMM,YAAY,CAACF,KAAK,CAAC;EACpC,CAAC,EAAE,CAACJ,aAAa,CAAC,CAAC;EAEnB,MAAMO,aAAa,GAAG7B,WAAW,CAAE8B,UAAU,IAAK;IAC9Cf,UAAU,CAACgB,WAAW,KAAK;MACvB,GAAGA,WAAW;MACd,GAAGD,UAAU;MACbd,IAAI,EAAEc,UAAU,CAACd,IAAI,GAAGc,UAAU,CAACd,IAAI,GAAG;IAC9C,CAAC,CAAC,CAAC;EACP,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACHZ,QAAQ;IACRE,OAAO;IACPE,KAAK;IACLE,UAAU;IACVE,UAAU;IACVE,OAAO;IACPe;EACJ,CAAC;AACL,CAAC;AAAC1B,EAAA,CAtDWD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}